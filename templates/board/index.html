{% extends 'base.html' %}
{% block con %}

{% load mathfilters %}


    <br><br>
    <h1>BOARD PAGE</h1>

    <a href="{% url 'board:create' %}"><button>ê¸€ì‘ì„±</button></a>
    <br><br>

    <table border="1">
        <tr>
            <th>NO</th>
            <th>SUBJECT</th>
            <th>SUMMARY</th>
            <th>WRITER</th>
            <th>LIKEY</th>
        </tr>
        {% if bset %}
            {% for i in bset %}
                <tr>
                    <td>{{ bset.start_index|add:forloop.counter0 }}</td>
                    <td><a href="{% url 'board:detail' i.id %}">{{ i.subject }}</a></td>
                    <td>{{ i.summary }}</td>
                    <td>{{ i.writer }}</td>
                    <td>{{ i.likey.count }}</td>
                </tr>
            {% endfor %}
        {% else %}
            {% if kw %}
                <tr>
                    <th colspan="5">ê²€ìƒ‰ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤ ğŸƒ</th>
                </tr>
            {% else %}
                <tr>
                    <th colspan="5">ì²«ë²ˆì§¸ ê²Œì‹œê¸€ì„ ì‘ì„±í•´ì£¼ì„¸ìš” ğŸ¤£</th>
                </tr>
            {% endif %}
        {% endif %}
    </table>


    <br><br>

    {% if bset.has_previous %}
        <a href="{% url 'board:index' %}?page=1&cate={{cate}}&kw={{kw}}"><button>í™ˆ</button></a>
        <a href="{% url 'board:index' %}?page={{ bset.previous_page_number }}&cate={{cate}}&kw={{kw}}"><button>ì´ì „</button></a>
    {% else %}
        <button disabled>í™ˆ</button>
        <button disabled>ì´ì „</button>
    {% endif %}

    {% for i in bset.paginator.page_range %}
        {% if i >= bset.number|sub:5 and bset.number|add:4 >= i %}
            <a href="{% url 'board:index' %}?page={{i}}&cate={{cate}}&kw={{kw}}"><button {% if bset.number == i %} disabled {% endif %}>{{i}}</button></a>
        {% endif %}
    {% endfor %} 

    {% if bset.has_next %}
        <a href="{% url 'board:index' %}?page={{ bset.next_page_number }}&cate={{cate}}&kw={{kw}}"><button>ë‹¤ìŒ</button></a>
        <a href="{% url 'board:index' %}?page={{ bset.paginator.num_pages }}&cate={{cate}}&kw={{kw}}"><button>ë§ˆì§€ë§‰</button></a>
    {% else %}
        <button disabled>ë‹¤ìŒ</button>
        <button disabled>ë§ˆì§€ë§‰</button>
    {% endif %}

    <br><br>


    <form>
        <select name="cate">
            <option value="sub" {% if cate == "sub" %} selected {% endif %}>ì œëª©</option>
            <option value="wri" {% if cate == "wri" %} selected {% endif %}>ì‘ì„±ì</option>
            <option value="con" {% if cate == "con" %} selected {% endif %}>ë‚´ìš©</option>
        </select>

        <input type="text" name="kw" value="{{kw}}" size="40">

        <button>ê²€ìƒ‰</button>
    </form>


{% endblock %}